# ì „ê³µ ë°ì´í„° ë³‘í•© ë””ë²„ê·¸ í˜ì´ì§€

## âœ… ë¬¸ì œ í•´ê²° ì™„ë£Œ (2025-11-11)

**D1 ë³‘í•© ë¡œì§ ì ìš©**ìœ¼ë¡œ ì´ì œ ëª¨ë“  ì „ê³µ í˜ì´ì§€ê°€ CareerNet + Goyong24 ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ë³‘í•©í•©ë‹ˆë‹¤.

- **ìˆ˜ì • íŒŒì¼**: `src/services/profileDataService.ts` (601-727ë²ˆ ë¼ì¸)
- **í…œí”Œë¦¿ ë²„ì „**: `MAJOR: 16 â†’ 17`
- **ì ìš© ë°©ë²•**: `.all()`ë¡œ ëª¨ë“  ë ˆì½”ë“œ ì¡°íšŒ â†’ ë°˜ë³µë¬¸ìœ¼ë¡œ ì–‘ìª½ ë°ì´í„° ìˆ˜ì§‘ â†’ ë³‘í•©

---

## ğŸ“Š ë³‘í•© ëŒ€ìƒ ì „ê³µ ë¦¬ìŠ¤íŠ¸ (CareerNet + Goyong24 ëª¨ë‘ ë³´ìœ )

### 1. ê°„í˜¸í•™ê³¼ (ì˜ë£Œê³„ì—´)
- **ë©”ì¸ í˜ì´ì§€**: http://localhost:3000/major/ê°„í˜¸í•™ê³¼
- **CareerNet ì „ìš©**: http://localhost:3000/major/ê°„í˜¸í•™ê³¼?careernetId=10
- **Goyong24 ì „ìš©**: http://localhost:3000/major/ê°„í˜¸í•™ê³¼?goyong24MajorId=G4_ê°„í˜¸í•™ê³¼
- **ë””ë²„ê·¸ ëª¨ë“œ**: http://localhost:3000/major/ê°„í˜¸í•™ê³¼?debug=true

### 2. ê±´ì¶•í•™ê³¼ (ê³µí•™ê³„ì—´)
- **ë©”ì¸ í˜ì´ì§€**: http://localhost:3000/major/ê±´ì¶•í•™ê³¼
- **CareerNet ì „ìš©**: http://localhost:3000/major/ê±´ì¶•í•™ê³¼?careernetId=20
- **Goyong24 ì „ìš©**: http://localhost:3000/major/ê±´ì¶•í•™ê³¼?goyong24MajorId=G1_ê±´ì¶•í•™ê³¼
- **ë””ë²„ê·¸ ëª¨ë“œ**: http://localhost:3000/major/ê±´ì¶•í•™ê³¼?debug=true

### 3. ê²Œì„ê³µí•™ê³¼ (ITê³„ì—´)
- **ë©”ì¸ í˜ì´ì§€**: http://localhost:3000/major/ê²Œì„ê³µí•™ê³¼
- **CareerNet ì „ìš©**: http://localhost:3000/major/ê²Œì„ê³µí•™ê³¼?careernetId=21
- **Goyong24 ì „ìš©**: http://localhost:3000/major/ê²Œì„ê³µí•™ê³¼?goyong24MajorId=G24_ê²Œì„ê³µí•™ê³¼
- **ë””ë²„ê·¸ ëª¨ë“œ**: http://localhost:3000/major/ê²Œì„ê³µí•™ê³¼?debug=true

### 4. ê°€ì •êµìœ¡ê³¼ (êµìœ¡ê³„ì—´)
- **ë©”ì¸ í˜ì´ì§€**: http://localhost:3000/major/ê°€ì •êµìœ¡ê³¼
- **CareerNet ì „ìš©**: http://localhost:3000/major/ê°€ì •êµìœ¡ê³¼?careernetId=10006
- **Goyong24 ì „ìš©**: http://localhost:3000/major/ê°€ì •êµìœ¡ê³¼?goyong24MajorId=G9_ê°€ì •êµìœ¡ê³¼
- **ë””ë²„ê·¸ ëª¨ë“œ**: http://localhost:3000/major/ê°€ì •êµìœ¡ê³¼?debug=true

### 5. ê±´ì¶•ê³µí•™ê³¼ (ê³µí•™ê³„ì—´)
- **ë©”ì¸ í˜ì´ì§€**: http://localhost:3000/major/ê±´ì¶•ê³µí•™ê³¼
- **CareerNet ì „ìš©**: http://localhost:3000/major/ê±´ì¶•ê³µí•™ê³¼?careernetId=17
- **Goyong24 ì „ìš©**: http://localhost:3000/major/ê±´ì¶•ê³µí•™ê³¼?goyong24MajorId=G2_ê±´ì¶•ê³µí•™ê³¼
- **ë””ë²„ê·¸ ëª¨ë“œ**: http://localhost:3000/major/ê±´ì¶•ê³µí•™ê³¼?debug=true

### 6. ê°€ì¡±ë³µì§€ê³¼ (ë³µì§€ê³„ì—´)
- **ë©”ì¸ í˜ì´ì§€**: http://localhost:3000/major/ê°€ì¡±ë³µì§€ê³¼
- **CareerNet ì „ìš©**: http://localhost:3000/major/ê°€ì¡±ë³µì§€ê³¼?careernetId=8
- **Goyong24 ì „ìš©**: http://localhost:3000/major/ê°€ì¡±ë³µì§€ê³¼?goyong24MajorId=G10_ê°€ì¡±ë³µì§€ê³¼
- **ë””ë²„ê·¸ ëª¨ë“œ**: http://localhost:3000/major/ê°€ì¡±ë³µì§€ê³¼?debug=true

### 7. ê°„í˜¸ê³¼ (ì˜ë£Œê³„ì—´)
- **ë©”ì¸ í˜ì´ì§€**: http://localhost:3000/major/ê°„í˜¸ê³¼
- **CareerNet ì „ìš©**: http://localhost:3000/major/ê°„í˜¸ê³¼?careernetId=9
- **Goyong24 ì „ìš©**: http://localhost:3000/major/ê°„í˜¸ê³¼?goyong24MajorId=G4_ê°„í˜¸ê³¼
- **ë””ë²„ê·¸ ëª¨ë“œ**: http://localhost:3000/major/ê°„í˜¸ê³¼?debug=true

---

## ğŸ” í˜„ì¬ ë¬¸ì œì 

### 1ï¸âƒ£ **D1 ì¡°íšŒ ë¡œì§ ë¬¸ì œ**
```typescript
// í˜„ì¬ ì½”ë“œ (src/services/profileDataService.ts:618-623)
const majorRow = await db.prepare(`
  SELECT id, name, careernet_id, goyong24_id, api_data_json 
  FROM majors 
  WHERE LOWER(name) = LOWER(?)
  LIMIT 1  // âŒ ì—¬ê¸°ê°€ ë¬¸ì œ! 2ê°œ ë ˆì½”ë“œ ì¤‘ 1ê°œë§Œ ê°€ì ¸ì˜´
`).bind(id).first()
```

**ê²°ê³¼**: ê°™ì€ ì´ë¦„ì˜ 2ê°œ ë ˆì½”ë“œ(CareerNet, Goyong24) ì¤‘ **ì²« ë²ˆì§¸ ë ˆì½”ë“œë§Œ** ê°€ì ¸ì˜µë‹ˆë‹¤.

### 2ï¸âƒ£ **ì§ì—… í˜ì´ì§€ëŠ” ì˜¬ë°”ë¥´ê²Œ êµ¬í˜„ë¨**
```typescript
// ì§ì—… í˜ì´ì§€ (src/services/profileDataService.ts:898-904)
const allJobRows = await db.prepare(`
  SELECT id, name, careernet_id, goyong24_id, api_data_json 
  FROM jobs 
  WHERE LOWER(name) = LOWER(?)
`).all()  // âœ… ëª¨ë“  ë ˆì½”ë“œë¥¼ ê°€ì ¸ì˜´!

// ê·¸ í›„ ë°˜ë³µë¬¸ìœ¼ë¡œ CareerNet, Goyong24 ë°ì´í„° ë¶„ë¦¬
for (const row of allJobRows.results) {
  const apiData = JSON.parse(row.api_data_json)
  if (apiData?.careernet) careernetProfile = ...
  if (apiData?.goyong24) goyongProfile = ...
}
```

---

## ğŸ“‹ ìˆ˜ì • ë°©ì•ˆ

### âœ… í•´ê²°ì±…: ì „ê³µ í˜ì´ì§€ë„ ì§ì—… í˜ì´ì§€ì²˜ëŸ¼ `.all()` ì‚¬ìš©

```typescript
// ìˆ˜ì • í›„
const allMajorRows = await db.prepare(`
  SELECT id, name, careernet_id, goyong24_id, api_data_json 
  FROM majors 
  WHERE LOWER(name) = LOWER(?)
`).all()  // âœ… ëª¨ë“  ë ˆì½”ë“œ ê°€ì ¸ì˜¤ê¸°

for (const row of allMajorRows.results) {
  const apiData = JSON.parse(row.api_data_json)
  
  if (apiData?.careernet && !careernetProfile) {
    careernetProfile = { /* CareerNet ë°ì´í„° */ }
  }
  
  if (apiData?.goyong24 && !goyongProfile) {
    goyongProfile = { /* Goyong24 ë°ì´í„° */ }
  }
}

// ë‘ í”„ë¡œí•„ì„ ë³‘í•©
const merged = mergeMajorProfiles(goyongProfile, careernetProfile)
```

---

## ğŸ¯ í…ŒìŠ¤íŠ¸ ë°©ë²•

1. **CareerNet ì „ìš© ë§í¬** â†’ CareerNet ë°ì´í„°ë§Œ í‘œì‹œ
2. **Goyong24 ì „ìš© ë§í¬** â†’ Goyong24 ë°ì´í„°ë§Œ í‘œì‹œ
3. **ë©”ì¸ í˜ì´ì§€** â†’ ë‘ ë°ì´í„°ê°€ ë³‘í•©ë˜ì–´ í‘œì‹œ (ìˆ˜ì • í›„)
4. **ë””ë²„ê·¸ ëª¨ë“œ** â†’ ì›ë³¸ API ì‘ë‹µ í™•ì¸

---

## ğŸ“Š ë¹„êµìš© ìƒ˜í”Œ ë°ì´í„°

### CareerNet ì£¼ìš” í•„ë“œ
- `categoryName` (ê³„ì—´ëª…)
- `relateSubject` (ê´€ë ¨ ê³ êµ êµê³¼ëª©)
- `mainSubject` (ëŒ€í•™ ì£¼ìš” êµê³¼ëª©)
- `careerAct` (ì§„ë¡œ íƒìƒ‰ í™œë™)
- `enterField` (ì¡¸ì—… í›„ ì§„ì¶œë¶„ì•¼)
- `chartData` (í†µê³„ ì°¨íŠ¸)
- `universityList` (ê°œì„¤ ëŒ€í•™ ëª©ë¡)

### Goyong24 ì£¼ìš” í•„ë“œ
- `summary` (í•™ê³¼ ìš”ì•½)
- `departmentIntro` (í•™ê³¼ ì†Œê°œ)
- `curriculum` (êµìœ¡ê³¼ì •)
- `certification` (ìê²©ì¦ ì •ë³´)
- `relatedMajors` (ê´€ë ¨ í•™ê³¼)
- `relatedJobs` (ê´€ë ¨ ì§ì—…)

---

## âœ… ë‹¤ìŒ ë‹¨ê³„

1. **ì´ ë¬¸ì„œì˜ ë§í¬ë“¤ì„ ì—´ì–´ì„œ ê° ì†ŒìŠ¤ë³„ ë°ì´í„°ë¥¼ í™•ì¸**
2. **ì–´ë–¤ í•„ë“œë¥¼ ì‚¬ìš©í• ì§€, ì–´ë–¤ í•„ë“œë¥¼ ë³‘í•©í• ì§€ ê²°ì •**
3. **`src/services/profileDataService.ts`ì˜ `getUnifiedMajorDetail` í•¨ìˆ˜ ìˆ˜ì •**
4. **í…œí”Œë¦¿ì—ì„œ Goyong24 í•„ë“œ ë Œë”ë§ ì¶”ê°€**

