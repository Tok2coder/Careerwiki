{
  "name": "careerwiki",
  "type": "module",
  "scripts": {
    "dev": "npm run sync:prod-to-local && vite --port 3000",
    "dev:no-sync": "vite --port 3000",
    "dev:build": "npm run build && wrangler pages dev dist --port 3000",
    "build": "vite build",
    "preview": "wrangler pages dev dist --port 3000",
    "deploy": "npm run build && wrangler pages deploy dist",
    "dev:sandbox": "wrangler pages dev dist --d1=careerwiki-jobs --local --ip 0.0.0.0 --port 3000",
    "db:migrate:local": "wrangler d1 migrations apply careerwiki-db --local",
    "db:migrate:prod": "wrangler d1 migrations apply careerwiki-db --remote",
    "sync:prod-to-local": "node scripts/sync-prod-to-local.mjs",
    "db:seed:local": "curl -X POST http://localhost:3000/api/admin/seed-jobs -H 'Authorization: Bearer dev-admin-token'",
    "db:reset": "rm -rf .wrangler/state/v3/d1 && npm run db:migrate:local",
    "clean-port": "node -e \"const { execSync } = require('child_process'); try { const result = execSync('netstat -ano | findstr :3000', { encoding: 'utf-8' }); const pids = [...new Set(result.split('\\n').filter(l => l.includes('LISTENING')).map(l => l.trim().split(/\\s+/).pop()))].filter(Boolean); pids.forEach(pid => { try { execSync(`taskkill /F /PID ${pid}`, { stdio: 'ignore' }); console.log(`✅ 포트 3000 프로세스 종료: PID ${pid}`); } catch(e) {} }); if(pids.length === 0) console.log('✅ 포트 3000 사용 중인 프로세스 없음'); } catch(e) { console.log('✅ 포트 3000 사용 중인 프로세스 없음'); }\"",
    "stop": "npm run clean-port",
    "cf-typegen": "wrangler types --env-interface CloudflareBindings",
    "etl:merge-jobs": "tsx src/scripts/runJobMerge.ts",
    "etl:merge-jobs:limit": "tsx src/scripts/runJobMerge.ts --limit=100",
    "etl:merge-majors": "tsx src/scripts/runMajorMerge.ts",
    "etl:merge-majors:limit": "tsx src/scripts/runMajorMerge.ts --limit=100",
    "etl:related-jobs": "tsx src/scripts/runRelatedJobs.ts",
    "etl:related-jobs:limit": "tsx src/scripts/runRelatedJobs.ts --limit=100",
    "etl:related-jobs:dry": "tsx src/scripts/runRelatedJobs.ts --dry-run",
    "etl:merge-all": "npm run etl:merge-jobs && npm run etl:merge-majors && npm run etl:related-jobs"
  },
  "dependencies": {
    "@xmldom/xmldom": "^0.8.11",
    "axios": "^1.12.2",
    "csv-parse": "^6.1.0",
    "dotenv": "^17.2.3",
    "hono": "^4.9.9",
    "jose": "^6.1.2"
  },
  "devDependencies": {
    "@cloudflare/workers-types": "^4.20251008.0",
    "@hono/vite-build": "^1.2.0",
    "@hono/vite-dev-server": "^0.18.2",
    "better-sqlite3": "^12.4.1",
    "miniflare": "^4.20251011.2",
    "ts-node": "^10.9.2",
    "tsx": "^4.20.6",
    "typescript": "^5.9.3",
    "vite": "^6.3.5",
    "wrangler": "^4.4.0"
  }
}
